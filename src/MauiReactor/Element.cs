// <auto-generated />
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Reflection;
using MauiReactor.Animations;
using MauiReactor.Shapes;
using MauiReactor.Internals;

#nullable enable
namespace MauiReactor;
public partial interface IElement : IVisualNodeWithNativeControl
{
    EventCommand<ElementEventArgs>? ChildAddedEvent { get; set; }

    EventCommand<ElementEventArgs>? ChildRemovedEvent { get; set; }

    EventCommand<ElementEventArgs>? DescendantAddedEvent { get; set; }

    EventCommand<ElementEventArgs>? DescendantRemovedEvent { get; set; }

    EventCommand<ParentChangingEventArgs>? ParentChangingEvent { get; set; }

    EventCommand<EventArgs>? ParentChangedEvent { get; set; }

    EventCommand<HandlerChangingEventArgs>? HandlerChangingEvent { get; set; }

    EventCommand<EventArgs>? HandlerChangedEvent { get; set; }
}

public abstract partial class Element<T> : VisualNode<T>, IElement where T : Microsoft.Maui.Controls.Element, new()
{
    protected Element()
    {
        ElementStyles.Default?.Invoke(this);
    }

    protected Element(Action<T?> componentRefAction) : base(componentRefAction)
    {
        ElementStyles.Default?.Invoke(this);
    }

    EventCommand<ElementEventArgs>? IElement.ChildAddedEvent { get; set; }

    EventCommand<ElementEventArgs>? IElement.ChildRemovedEvent { get; set; }

    EventCommand<ElementEventArgs>? IElement.DescendantAddedEvent { get; set; }

    EventCommand<ElementEventArgs>? IElement.DescendantRemovedEvent { get; set; }

    EventCommand<ParentChangingEventArgs>? IElement.ParentChangingEvent { get; set; }

    EventCommand<EventArgs>? IElement.ParentChangedEvent { get; set; }

    EventCommand<HandlerChangingEventArgs>? IElement.HandlerChangingEvent { get; set; }

    EventCommand<EventArgs>? IElement.HandlerChangedEvent { get; set; }

    partial void OnBeginAnimate();
    partial void OnEndAnimate();
    protected override void OnThemeChanged()
    {
        if (ThemeKey != null && ElementStyles.Themes.TryGetValue(ThemeKey, out var styleAction))
        {
            styleAction(this);
        }

        base.OnThemeChanged();
    }

    partial void OnAttachingNativeEvents();
    partial void OnDetachingNativeEvents();
    private EventCommand<ElementEventArgs>? _executingChildAddedEvent;
    private EventCommand<ElementEventArgs>? _executingChildRemovedEvent;
    private EventCommand<ElementEventArgs>? _executingDescendantAddedEvent;
    private EventCommand<ElementEventArgs>? _executingDescendantRemovedEvent;
    private EventCommand<ParentChangingEventArgs>? _executingParentChangingEvent;
    private EventCommand<EventArgs>? _executingParentChangedEvent;
    private EventCommand<HandlerChangingEventArgs>? _executingHandlerChangingEvent;
    private EventCommand<EventArgs>? _executingHandlerChangedEvent;
    protected override void OnAttachNativeEvents()
    {
        Validate.EnsureNotNull(NativeControl);
        var thisAsIElement = (IElement)this;
        if (thisAsIElement.ChildAddedEvent != null)
        {
            NativeControl.ChildAdded += NativeControl_ChildAdded;
        }

        if (thisAsIElement.ChildRemovedEvent != null)
        {
            NativeControl.ChildRemoved += NativeControl_ChildRemoved;
        }

        if (thisAsIElement.DescendantAddedEvent != null)
        {
            NativeControl.DescendantAdded += NativeControl_DescendantAdded;
        }

        if (thisAsIElement.DescendantRemovedEvent != null)
        {
            NativeControl.DescendantRemoved += NativeControl_DescendantRemoved;
        }

        if (thisAsIElement.ParentChangingEvent != null)
        {
            NativeControl.ParentChanging += NativeControl_ParentChanging;
        }

        if (thisAsIElement.ParentChangedEvent != null)
        {
            NativeControl.ParentChanged += NativeControl_ParentChanged;
        }

        if (thisAsIElement.HandlerChangingEvent != null)
        {
            NativeControl.HandlerChanging += NativeControl_HandlerChanging;
        }

        if (thisAsIElement.HandlerChangedEvent != null)
        {
            NativeControl.HandlerChanged += NativeControl_HandlerChanged;
        }

        OnAttachingNativeEvents();
        base.OnAttachNativeEvents();
    }

    private void NativeControl_ChildAdded(object? sender, ElementEventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingChildAddedEvent == null || _executingChildAddedEvent.IsCompleted)
        {
            _executingChildAddedEvent = thisAsIElement.ChildAddedEvent;
            _executingChildAddedEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_ChildRemoved(object? sender, ElementEventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingChildRemovedEvent == null || _executingChildRemovedEvent.IsCompleted)
        {
            _executingChildRemovedEvent = thisAsIElement.ChildRemovedEvent;
            _executingChildRemovedEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_DescendantAdded(object? sender, ElementEventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingDescendantAddedEvent == null || _executingDescendantAddedEvent.IsCompleted)
        {
            _executingDescendantAddedEvent = thisAsIElement.DescendantAddedEvent;
            _executingDescendantAddedEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_DescendantRemoved(object? sender, ElementEventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingDescendantRemovedEvent == null || _executingDescendantRemovedEvent.IsCompleted)
        {
            _executingDescendantRemovedEvent = thisAsIElement.DescendantRemovedEvent;
            _executingDescendantRemovedEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_ParentChanging(object? sender, ParentChangingEventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingParentChangingEvent == null || _executingParentChangingEvent.IsCompleted)
        {
            _executingParentChangingEvent = thisAsIElement.ParentChangingEvent;
            _executingParentChangingEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_ParentChanged(object? sender, EventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingParentChangedEvent == null || _executingParentChangedEvent.IsCompleted)
        {
            _executingParentChangedEvent = thisAsIElement.ParentChangedEvent;
            _executingParentChangedEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_HandlerChanging(object? sender, HandlerChangingEventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingHandlerChangingEvent == null || _executingHandlerChangingEvent.IsCompleted)
        {
            _executingHandlerChangingEvent = thisAsIElement.HandlerChangingEvent;
            _executingHandlerChangingEvent?.Execute(sender, e);
        }
    }

    private void NativeControl_HandlerChanged(object? sender, EventArgs e)
    {
        var thisAsIElement = (IElement)this;
        if (_executingHandlerChangedEvent == null || _executingHandlerChangedEvent.IsCompleted)
        {
            _executingHandlerChangedEvent = thisAsIElement.HandlerChangedEvent;
            _executingHandlerChangedEvent?.Execute(sender, e);
        }
    }

    protected override void OnDetachNativeEvents()
    {
        if (NativeControl != null)
        {
            NativeControl.ChildAdded -= NativeControl_ChildAdded;
            NativeControl.ChildRemoved -= NativeControl_ChildRemoved;
            NativeControl.DescendantAdded -= NativeControl_DescendantAdded;
            NativeControl.DescendantRemoved -= NativeControl_DescendantRemoved;
            NativeControl.ParentChanging -= NativeControl_ParentChanging;
            NativeControl.ParentChanged -= NativeControl_ParentChanged;
            NativeControl.HandlerChanging -= NativeControl_HandlerChanging;
            NativeControl.HandlerChanged -= NativeControl_HandlerChanged;
        }

        OnDetachingNativeEvents();
        base.OnDetachNativeEvents();
    }

    partial void Migrated(VisualNode newNode);
    protected override void OnMigrated(VisualNode newNode)
    {
        if (newNode is Element<T> @element)
        {
            if (_executingChildAddedEvent != null && !_executingChildAddedEvent.IsCompleted)
            {
                @element._executingChildAddedEvent = _executingChildAddedEvent;
            }

            if (_executingChildRemovedEvent != null && !_executingChildRemovedEvent.IsCompleted)
            {
                @element._executingChildRemovedEvent = _executingChildRemovedEvent;
            }

            if (_executingDescendantAddedEvent != null && !_executingDescendantAddedEvent.IsCompleted)
            {
                @element._executingDescendantAddedEvent = _executingDescendantAddedEvent;
            }

            if (_executingDescendantRemovedEvent != null && !_executingDescendantRemovedEvent.IsCompleted)
            {
                @element._executingDescendantRemovedEvent = _executingDescendantRemovedEvent;
            }

            if (_executingParentChangingEvent != null && !_executingParentChangingEvent.IsCompleted)
            {
                @element._executingParentChangingEvent = _executingParentChangingEvent;
            }

            if (_executingParentChangedEvent != null && !_executingParentChangedEvent.IsCompleted)
            {
                @element._executingParentChangedEvent = _executingParentChangedEvent;
            }

            if (_executingHandlerChangingEvent != null && !_executingHandlerChangingEvent.IsCompleted)
            {
                @element._executingHandlerChangingEvent = _executingHandlerChangingEvent;
            }

            if (_executingHandlerChangedEvent != null && !_executingHandlerChangedEvent.IsCompleted)
            {
                @element._executingHandlerChangedEvent = _executingHandlerChangedEvent;
            }
        }

        Migrated(newNode);
        base.OnMigrated(newNode);
    }
}

public static partial class ElementExtensions
{
    /*
    
    
    
    
    */
    public static T AutomationId<T>(this T element, string automationId)
        where T : IElement
    {
        //element.AutomationId = automationId;
        element.SetProperty(Microsoft.Maui.Controls.Element.AutomationIdProperty, automationId);
        return element;
    }

    public static T AutomationId<T>(this T element, Func<string> automationIdFunc)
        where T : IElement
    {
        //element.AutomationId = new PropertyValue<string>(automationIdFunc);
        element.SetProperty(Microsoft.Maui.Controls.Element.AutomationIdProperty, new PropertyValue<string>(automationIdFunc));
        return element;
    }

    public static T ClassId<T>(this T element, string classId)
        where T : IElement
    {
        //element.ClassId = classId;
        element.SetProperty(Microsoft.Maui.Controls.Element.ClassIdProperty, classId);
        return element;
    }

    public static T ClassId<T>(this T element, Func<string> classIdFunc)
        where T : IElement
    {
        //element.ClassId = new PropertyValue<string>(classIdFunc);
        element.SetProperty(Microsoft.Maui.Controls.Element.ClassIdProperty, new PropertyValue<string>(classIdFunc));
        return element;
    }

    public static T OnChildAdded<T>(this T element, Action? childAddedAction)
        where T : IElement
    {
        element.ChildAddedEvent = new SyncEventCommand<ElementEventArgs>(execute: childAddedAction);
        return element;
    }

    public static T OnChildAdded<T>(this T element, Action<ElementEventArgs>? childAddedAction)
        where T : IElement
    {
        element.ChildAddedEvent = new SyncEventCommand<ElementEventArgs>(executeWithArgs: childAddedAction);
        return element;
    }

    public static T OnChildAdded<T>(this T element, Action<object?, ElementEventArgs>? childAddedAction)
        where T : IElement
    {
        element.ChildAddedEvent = new SyncEventCommand<ElementEventArgs>(executeWithFullArgs: childAddedAction);
        return element;
    }

    public static T OnChildAdded<T>(this T element, Func<Task>? childAddedAction)
        where T : IElement
    {
        element.ChildAddedEvent = new AsyncEventCommand<ElementEventArgs>(execute: childAddedAction);
        return element;
    }

    public static T OnChildAdded<T>(this T element, Func<ElementEventArgs, Task>? childAddedAction)
        where T : IElement
    {
        element.ChildAddedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithArgs: childAddedAction);
        return element;
    }

    public static T OnChildAdded<T>(this T element, Func<object?, ElementEventArgs, Task>? childAddedAction)
        where T : IElement
    {
        element.ChildAddedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithFullArgs: childAddedAction);
        return element;
    }

    public static T OnChildRemoved<T>(this T element, Action? childRemovedAction)
        where T : IElement
    {
        element.ChildRemovedEvent = new SyncEventCommand<ElementEventArgs>(execute: childRemovedAction);
        return element;
    }

    public static T OnChildRemoved<T>(this T element, Action<ElementEventArgs>? childRemovedAction)
        where T : IElement
    {
        element.ChildRemovedEvent = new SyncEventCommand<ElementEventArgs>(executeWithArgs: childRemovedAction);
        return element;
    }

    public static T OnChildRemoved<T>(this T element, Action<object?, ElementEventArgs>? childRemovedAction)
        where T : IElement
    {
        element.ChildRemovedEvent = new SyncEventCommand<ElementEventArgs>(executeWithFullArgs: childRemovedAction);
        return element;
    }

    public static T OnChildRemoved<T>(this T element, Func<Task>? childRemovedAction)
        where T : IElement
    {
        element.ChildRemovedEvent = new AsyncEventCommand<ElementEventArgs>(execute: childRemovedAction);
        return element;
    }

    public static T OnChildRemoved<T>(this T element, Func<ElementEventArgs, Task>? childRemovedAction)
        where T : IElement
    {
        element.ChildRemovedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithArgs: childRemovedAction);
        return element;
    }

    public static T OnChildRemoved<T>(this T element, Func<object?, ElementEventArgs, Task>? childRemovedAction)
        where T : IElement
    {
        element.ChildRemovedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithFullArgs: childRemovedAction);
        return element;
    }

    public static T OnDescendantAdded<T>(this T element, Action? descendantAddedAction)
        where T : IElement
    {
        element.DescendantAddedEvent = new SyncEventCommand<ElementEventArgs>(execute: descendantAddedAction);
        return element;
    }

    public static T OnDescendantAdded<T>(this T element, Action<ElementEventArgs>? descendantAddedAction)
        where T : IElement
    {
        element.DescendantAddedEvent = new SyncEventCommand<ElementEventArgs>(executeWithArgs: descendantAddedAction);
        return element;
    }

    public static T OnDescendantAdded<T>(this T element, Action<object?, ElementEventArgs>? descendantAddedAction)
        where T : IElement
    {
        element.DescendantAddedEvent = new SyncEventCommand<ElementEventArgs>(executeWithFullArgs: descendantAddedAction);
        return element;
    }

    public static T OnDescendantAdded<T>(this T element, Func<Task>? descendantAddedAction)
        where T : IElement
    {
        element.DescendantAddedEvent = new AsyncEventCommand<ElementEventArgs>(execute: descendantAddedAction);
        return element;
    }

    public static T OnDescendantAdded<T>(this T element, Func<ElementEventArgs, Task>? descendantAddedAction)
        where T : IElement
    {
        element.DescendantAddedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithArgs: descendantAddedAction);
        return element;
    }

    public static T OnDescendantAdded<T>(this T element, Func<object?, ElementEventArgs, Task>? descendantAddedAction)
        where T : IElement
    {
        element.DescendantAddedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithFullArgs: descendantAddedAction);
        return element;
    }

    public static T OnDescendantRemoved<T>(this T element, Action? descendantRemovedAction)
        where T : IElement
    {
        element.DescendantRemovedEvent = new SyncEventCommand<ElementEventArgs>(execute: descendantRemovedAction);
        return element;
    }

    public static T OnDescendantRemoved<T>(this T element, Action<ElementEventArgs>? descendantRemovedAction)
        where T : IElement
    {
        element.DescendantRemovedEvent = new SyncEventCommand<ElementEventArgs>(executeWithArgs: descendantRemovedAction);
        return element;
    }

    public static T OnDescendantRemoved<T>(this T element, Action<object?, ElementEventArgs>? descendantRemovedAction)
        where T : IElement
    {
        element.DescendantRemovedEvent = new SyncEventCommand<ElementEventArgs>(executeWithFullArgs: descendantRemovedAction);
        return element;
    }

    public static T OnDescendantRemoved<T>(this T element, Func<Task>? descendantRemovedAction)
        where T : IElement
    {
        element.DescendantRemovedEvent = new AsyncEventCommand<ElementEventArgs>(execute: descendantRemovedAction);
        return element;
    }

    public static T OnDescendantRemoved<T>(this T element, Func<ElementEventArgs, Task>? descendantRemovedAction)
        where T : IElement
    {
        element.DescendantRemovedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithArgs: descendantRemovedAction);
        return element;
    }

    public static T OnDescendantRemoved<T>(this T element, Func<object?, ElementEventArgs, Task>? descendantRemovedAction)
        where T : IElement
    {
        element.DescendantRemovedEvent = new AsyncEventCommand<ElementEventArgs>(executeWithFullArgs: descendantRemovedAction);
        return element;
    }

    public static T OnParentChanging<T>(this T element, Action? parentChangingAction)
        where T : IElement
    {
        element.ParentChangingEvent = new SyncEventCommand<ParentChangingEventArgs>(execute: parentChangingAction);
        return element;
    }

    public static T OnParentChanging<T>(this T element, Action<ParentChangingEventArgs>? parentChangingAction)
        where T : IElement
    {
        element.ParentChangingEvent = new SyncEventCommand<ParentChangingEventArgs>(executeWithArgs: parentChangingAction);
        return element;
    }

    public static T OnParentChanging<T>(this T element, Action<object?, ParentChangingEventArgs>? parentChangingAction)
        where T : IElement
    {
        element.ParentChangingEvent = new SyncEventCommand<ParentChangingEventArgs>(executeWithFullArgs: parentChangingAction);
        return element;
    }

    public static T OnParentChanging<T>(this T element, Func<Task>? parentChangingAction)
        where T : IElement
    {
        element.ParentChangingEvent = new AsyncEventCommand<ParentChangingEventArgs>(execute: parentChangingAction);
        return element;
    }

    public static T OnParentChanging<T>(this T element, Func<ParentChangingEventArgs, Task>? parentChangingAction)
        where T : IElement
    {
        element.ParentChangingEvent = new AsyncEventCommand<ParentChangingEventArgs>(executeWithArgs: parentChangingAction);
        return element;
    }

    public static T OnParentChanging<T>(this T element, Func<object?, ParentChangingEventArgs, Task>? parentChangingAction)
        where T : IElement
    {
        element.ParentChangingEvent = new AsyncEventCommand<ParentChangingEventArgs>(executeWithFullArgs: parentChangingAction);
        return element;
    }

    public static T OnParentChanged<T>(this T element, Action? parentChangedAction)
        where T : IElement
    {
        element.ParentChangedEvent = new SyncEventCommand<EventArgs>(execute: parentChangedAction);
        return element;
    }

    public static T OnParentChanged<T>(this T element, Action<EventArgs>? parentChangedAction)
        where T : IElement
    {
        element.ParentChangedEvent = new SyncEventCommand<EventArgs>(executeWithArgs: parentChangedAction);
        return element;
    }

    public static T OnParentChanged<T>(this T element, Action<object?, EventArgs>? parentChangedAction)
        where T : IElement
    {
        element.ParentChangedEvent = new SyncEventCommand<EventArgs>(executeWithFullArgs: parentChangedAction);
        return element;
    }

    public static T OnParentChanged<T>(this T element, Func<Task>? parentChangedAction)
        where T : IElement
    {
        element.ParentChangedEvent = new AsyncEventCommand<EventArgs>(execute: parentChangedAction);
        return element;
    }

    public static T OnParentChanged<T>(this T element, Func<EventArgs, Task>? parentChangedAction)
        where T : IElement
    {
        element.ParentChangedEvent = new AsyncEventCommand<EventArgs>(executeWithArgs: parentChangedAction);
        return element;
    }

    public static T OnParentChanged<T>(this T element, Func<object?, EventArgs, Task>? parentChangedAction)
        where T : IElement
    {
        element.ParentChangedEvent = new AsyncEventCommand<EventArgs>(executeWithFullArgs: parentChangedAction);
        return element;
    }

    public static T OnHandlerChanging<T>(this T element, Action? handlerChangingAction)
        where T : IElement
    {
        element.HandlerChangingEvent = new SyncEventCommand<HandlerChangingEventArgs>(execute: handlerChangingAction);
        return element;
    }

    public static T OnHandlerChanging<T>(this T element, Action<HandlerChangingEventArgs>? handlerChangingAction)
        where T : IElement
    {
        element.HandlerChangingEvent = new SyncEventCommand<HandlerChangingEventArgs>(executeWithArgs: handlerChangingAction);
        return element;
    }

    public static T OnHandlerChanging<T>(this T element, Action<object?, HandlerChangingEventArgs>? handlerChangingAction)
        where T : IElement
    {
        element.HandlerChangingEvent = new SyncEventCommand<HandlerChangingEventArgs>(executeWithFullArgs: handlerChangingAction);
        return element;
    }

    public static T OnHandlerChanging<T>(this T element, Func<Task>? handlerChangingAction)
        where T : IElement
    {
        element.HandlerChangingEvent = new AsyncEventCommand<HandlerChangingEventArgs>(execute: handlerChangingAction);
        return element;
    }

    public static T OnHandlerChanging<T>(this T element, Func<HandlerChangingEventArgs, Task>? handlerChangingAction)
        where T : IElement
    {
        element.HandlerChangingEvent = new AsyncEventCommand<HandlerChangingEventArgs>(executeWithArgs: handlerChangingAction);
        return element;
    }

    public static T OnHandlerChanging<T>(this T element, Func<object?, HandlerChangingEventArgs, Task>? handlerChangingAction)
        where T : IElement
    {
        element.HandlerChangingEvent = new AsyncEventCommand<HandlerChangingEventArgs>(executeWithFullArgs: handlerChangingAction);
        return element;
    }

    public static T OnHandlerChanged<T>(this T element, Action? handlerChangedAction)
        where T : IElement
    {
        element.HandlerChangedEvent = new SyncEventCommand<EventArgs>(execute: handlerChangedAction);
        return element;
    }

    public static T OnHandlerChanged<T>(this T element, Action<EventArgs>? handlerChangedAction)
        where T : IElement
    {
        element.HandlerChangedEvent = new SyncEventCommand<EventArgs>(executeWithArgs: handlerChangedAction);
        return element;
    }

    public static T OnHandlerChanged<T>(this T element, Action<object?, EventArgs>? handlerChangedAction)
        where T : IElement
    {
        element.HandlerChangedEvent = new SyncEventCommand<EventArgs>(executeWithFullArgs: handlerChangedAction);
        return element;
    }

    public static T OnHandlerChanged<T>(this T element, Func<Task>? handlerChangedAction)
        where T : IElement
    {
        element.HandlerChangedEvent = new AsyncEventCommand<EventArgs>(execute: handlerChangedAction);
        return element;
    }

    public static T OnHandlerChanged<T>(this T element, Func<EventArgs, Task>? handlerChangedAction)
        where T : IElement
    {
        element.HandlerChangedEvent = new AsyncEventCommand<EventArgs>(executeWithArgs: handlerChangedAction);
        return element;
    }

    public static T OnHandlerChanged<T>(this T element, Func<object?, EventArgs, Task>? handlerChangedAction)
        where T : IElement
    {
        element.HandlerChangedEvent = new AsyncEventCommand<EventArgs>(executeWithFullArgs: handlerChangedAction);
        return element;
    }
}

public static partial class ElementStyles
{
    public static Action<IElement>? Default { get; set; }
    public static Dictionary<string, Action<IElement>> Themes { get; } = [];
}